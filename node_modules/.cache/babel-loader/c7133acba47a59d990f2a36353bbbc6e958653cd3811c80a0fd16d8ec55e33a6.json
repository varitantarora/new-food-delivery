{"ast":null,"code":"import Restcard from\"./Restcard.js\";import Shimmering_ui from\"./Shimmering_ui.js\";//import rc from \"../utlis/mockData.js\";\n//useState is a hook\nimport{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Body=()=>{//set variable defined inside the function\nconst[listOfRest,setlistOfRest]=useState([]);const[listOfFilteredrest,setlistOfFilteredrest]=useState([]);const[searchText,setsearchText]=useState(\"\");//useEffect() for rendering and fetching api\nuseEffect(()=>{fetchData();},[]);//fetching data for useEffect hook\nconst fetchData=async()=>{var _json$data,_json$data$cards$,_json$data$cards$$car,_json$data$cards$$car2,_json$data$cards$$car3,_json$data$cards$$car4,_json$data2,_json$data2$cards$,_json$data2$cards$$ca,_json$data2$cards$$ca2,_json$data2$cards$$ca3,_json$data2$cards$$ca4;const data=await fetch(\"https://www.swiggy.com/dapi/restaurants/list/v5?lat=28.6090035&lng=77.4466959&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING\");const json=await data.json();console.log(json);// console.log(\n//   json.data.cards[4].card.card.gridElements.infoWithStyle.restaurants\n// );\nsetlistOfRest(json===null||json===void 0?void 0:(_json$data=json.data)===null||_json$data===void 0?void 0:(_json$data$cards$=_json$data.cards[4])===null||_json$data$cards$===void 0?void 0:(_json$data$cards$$car=_json$data$cards$.card)===null||_json$data$cards$$car===void 0?void 0:(_json$data$cards$$car2=_json$data$cards$$car.card)===null||_json$data$cards$$car2===void 0?void 0:(_json$data$cards$$car3=_json$data$cards$$car2.gridElements)===null||_json$data$cards$$car3===void 0?void 0:(_json$data$cards$$car4=_json$data$cards$$car3.infoWithStyle)===null||_json$data$cards$$car4===void 0?void 0:_json$data$cards$$car4.restaurants);setlistOfFilteredrest(json===null||json===void 0?void 0:(_json$data2=json.data)===null||_json$data2===void 0?void 0:(_json$data2$cards$=_json$data2.cards[4])===null||_json$data2$cards$===void 0?void 0:(_json$data2$cards$$ca=_json$data2$cards$.card)===null||_json$data2$cards$$ca===void 0?void 0:(_json$data2$cards$$ca2=_json$data2$cards$$ca.card)===null||_json$data2$cards$$ca2===void 0?void 0:(_json$data2$cards$$ca3=_json$data2$cards$$ca2.gridElements)===null||_json$data2$cards$$ca3===void 0?void 0:(_json$data2$cards$$ca4=_json$data2$cards$$ca3.infoWithStyle)===null||_json$data2$cards$$ca4===void 0?void 0:_json$data2$cards$$ca4.restaurants);};//shimmering ui\nif(listOfFilteredrest.length===0){return/*#__PURE__*/_jsx(Shimmering_ui,{});}//on click event handler for top rated rest.\nconst handleTopRatedClick=()=>{const Filterdlist=listOfRest.filter(res=>res.info.avgRating>4);console.log(Filterdlist);setlistOfFilteredrest(Filterdlist);};return/*#__PURE__*/_jsxs(\"div\",{className:\"Body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search_btn \",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"searchbar\",placeholder:\"Whats on your mind?!\",value:searchText,onChange:event=>{//onchange function\nsetsearchText(event.target.value);// event -> it is the event which triggers on change, target ->element the triggers the event , value-> property of the input tag, on the basis of which we will say that an event has occured\n}}),/*#__PURE__*/_jsx(\"button\",{className:\"srchbtn\",onClick:()=>{//filter the restaurant and update the ui\nconsole.log({searchText});const filteredRestaurant=listOfRest.filter(res=>res.info.name.toLowerCase().includes(searchText.toLowerCase()));console.log(filteredRestaurant);setlistOfFilteredrest(filteredRestaurant);},children:\"search\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"filter-btn\",onClick:handleTopRatedClick,children:\"Top Rated restaurants\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rest-container\",children:listOfFilteredrest.map(res=>{return/*#__PURE__*/_jsx(Restcard,{resData:res},res.info.id);})})]});};export default Body;","map":{"version":3,"names":["Restcard","Shimmering_ui","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Body","listOfRest","setlistOfRest","listOfFilteredrest","setlistOfFilteredrest","searchText","setsearchText","fetchData","_json$data","_json$data$cards$","_json$data$cards$$car","_json$data$cards$$car2","_json$data$cards$$car3","_json$data$cards$$car4","_json$data2","_json$data2$cards$","_json$data2$cards$$ca","_json$data2$cards$$ca2","_json$data2$cards$$ca3","_json$data2$cards$$ca4","data","fetch","json","console","log","cards","card","gridElements","infoWithStyle","restaurants","length","handleTopRatedClick","Filterdlist","filter","res","info","avgRating","className","children","type","placeholder","value","onChange","event","target","onClick","filteredRestaurant","name","toLowerCase","includes","map","resData","id"],"sources":["/Users/mehakgupta/Downloads/InternFrontEnd/src/components/Body.js"],"sourcesContent":["import Restcard from \"./Restcard.js\";\nimport Shimmering_ui from \"./Shimmering_ui.js\";\n//import rc from \"../utlis/mockData.js\";\n\n//useState is a hook\nimport { useState, useEffect } from \"react\";\n\nconst Body = () => {\n  //set variable defined inside the function\n  const [listOfRest, setlistOfRest] = useState([]);\n  const [listOfFilteredrest, setlistOfFilteredrest] = useState([]);\n\n  const [searchText, setsearchText] = useState(\"\");\n\n  //useEffect() for rendering and fetching api\n  useEffect(() => {\n    fetchData();\n  }, []);\n  //fetching data for useEffect hook\n  const fetchData = async () => {\n    const data = await fetch(\n      \"https://www.swiggy.com/dapi/restaurants/list/v5?lat=28.6090035&lng=77.4466959&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING\"\n    );\n\n    const json = await data.json();\n    console.log(json);\n    // console.log(\n    //   json.data.cards[4].card.card.gridElements.infoWithStyle.restaurants\n    // );\n    setlistOfRest(\n      json?.data?.cards[4]?.card?.card?.gridElements?.infoWithStyle?.restaurants\n    );\n    setlistOfFilteredrest(\n      json?.data?.cards[4]?.card?.card?.gridElements?.infoWithStyle?.restaurants\n    );\n  };\n\n  //shimmering ui\n  if (listOfFilteredrest.length === 0) {\n    return <Shimmering_ui />;\n  }\n\n  //on click event handler for top rated rest.\n  const handleTopRatedClick = () => {\n    const Filterdlist = listOfRest.filter((res) => res.info.avgRating > 4);\n    console.log(Filterdlist);\n    setlistOfFilteredrest(Filterdlist);\n  };\n\n  return (\n    <div className=\"Body\">\n      <div className=\"filter\">\n        {/* search bar */}\n        <div className=\"search_btn \">\n          {/* to update the ui with search bar, another state variable is needed, \n        the value is bounded to {searchText} , whenever we type something we want to update the searchText\n        this is done by onCHange event handler */}\n\n          <input\n            type=\"text\"\n            className=\"searchbar\"\n            placeholder=\"Whats on your mind?!\"\n            value={searchText}\n            onChange={(event) => {\n              //onchange function\n              setsearchText(event.target.value);\n              // event -> it is the event which triggers on change, target ->element the triggers the event , value-> property of the input tag, on the basis of which we will say that an event has occured\n            }}\n          />\n          <button\n            className=\"srchbtn\"\n            onClick={() => {\n              //filter the restaurant and update the ui\n              console.log({ searchText });\n\n              const filteredRestaurant = listOfRest.filter((res) =>\n                res.info.name.toLowerCase().includes(searchText.toLowerCase())\n              );\n              console.log(filteredRestaurant);\n              setlistOfFilteredrest(filteredRestaurant);\n            }}\n          >\n            search\n          </button>\n        </div>\n        {/* filtering on the basis of top rated rest. */}\n        <button className=\"filter-btn\" onClick={handleTopRatedClick}>\n          Top Rated restaurants\n        </button>\n      </div>\n      <div className=\"rest-container\">\n        {listOfFilteredrest.map((res) => {\n          return <Restcard resData={res} key={res.info.id} />;\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default Body;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}